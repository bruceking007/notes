./configure --prefix=/usr/local/nginx \
--pid-path=/var/run/nginx.pid \
--error-log-path=/data/nginx/logs/error.log \
--http-log-path=/data/nginx/logs/access.log \
--with-pcre=/usr/local/src/nginx/pcre-8.36 \
--with-openssl=/usr/local/src/nginx/openssl-1.0.2 \
--with-openssl-opt=-fPIC \
--with-http_lua_module \
--with-luajit-inc=/usr/local/include/luajit-2.0 \
--with-luajit-lib=/usr/local/lib \
--with-backtrace_module \
--with-http_stub_status_module \
--with-http_gzip_static_module \
--with-http_realip_module \
--with-http_upstream_check_module \
--with-http_ssl_module \
--with-http_sub_module \
--with-md5=/usr/lib \
--with-http_concat_module=shared \
--with-http_sysguard_module=shared \
--with-http_limit_conn_module=shared \
--with-http_limit_req_module=shared \
--with-http_split_clients_module=shared \
--with-http_footer_filter_module=shared \
--with-http_sub_module=shared \
--with-http_access_module=shared \
--with-http_upstream_ip_hash_module=shared \
--with-http_upstream_least_conn_module=shared \
--with-http_addition_module=shared \
--with-http_referer_module=shared \
--with-http_rewrite_module=shared \
--with-http_memcached_module=shared \
--with-http_upstream_session_sticky_module=shared \
--with-http_addition_module=shared \
--with-http_xslt_module=shared \
--with-http_image_filter_module=shared \
--with-http_user_agent_module=shared \
--with-http_empty_gif_module=shared \
--with-http_browser_module=shared \
--with-google_perftools_module \
--with-http_map_module=shared \
--with-http_split_clients_module=shared \
--with-http_userid_filter_module=shared \
--with-http_charset_filter_module=shared \
--without-http_uwsgi_module \
--without-http_scgi_module \
--without-select_module \
--without-poll_module \
--add-module=/usr/local/src/nginx/ngx_cache_purge-2.3 \
--add-module=/usr/local/src/nginx/nginx_tcp_proxy_module-master \
--add-module=/usr/local/src/nginx/ngx_http_geoip2_module-master \
--with-ld-opt=-ltcmalloc_minimal \
--http-client-body-temp-path=/data/nginx/tmps/nginx_client \
--http-proxy-temp-path=/data/nginx/tmps/nginx_proxy \
--http-fastcgi-temp-path=/data/nginx/tmps/nginx_fastcgi \
--add-module=/usr/local/src/nginx/lua-nginx-module-0.10.2 \
--add-module=/usr/local/src/nginx/ngx_devel_kit-0.3.1






--with-backtrace_module 
./configure: error: invalid option "--with-http_limit_conn_module=shared"
./configure: error: invalid option "--with-http_limit_req_module=shared"
./configure: error: invalid option "--with-http_split_clients_module=shared"
./configure: error: invalid option "--with-http_sub_module=shared"
./configure: error: invalid option "--with-http_access_module=shared"
./configure: error: invalid option "--with-http_upstream_ip_hash_module=shared"
./configure: error: invalid option "--with-http_upstream_least_conn_module=shared"
./configure: error: invalid option "--with-http_addition_module=shared"
./configure: error: invalid option "--with-http_referer_module=shared"
./configure: error: invalid option "--with-http_rewrite_module=shared"
./configure: error: invalid option "--with-http_memcached_module=shared"
./configure: error: invalid option "--with-http_addition_module=shared"
./configure: error: invalid option "--with-http_xslt_module=shared"
./configure: error: invalid option "--with-http_image_filter_module=shared"
./configure: error: invalid option "--with-http_empty_gif_module=shared"
./configure: error: invalid option "--with-http_browser_module=shared"
./configure: error: invalid option "--with-http_map_module=shared"
./configure: error: invalid option "--with-http_split_clients_module=shared
./configure: error: invalid option "--with-http_userid_filter_module=shared"
./configure: error: invalid option "--with-http_charset_filter_module=shared"







--with-http_upstream_check_module 改为
--add-module=./modules/ngx_http_upstream_check_module

--with-http_concat_module=shared
git clone git://github.com/alibaba/nginx-http-concat.git
--add-module=/usr/local/src/nginx/nginx-http-concat \

--with-http_sysguard_module=shared
--add-module=./modules/ngx_http_sysguard_module \

-bash: --with-http_footer_filter_module=shared: command not found
--add-module=./modules/ngx_http_footer_filter_module \

-bash: --with-http_upstream_session_sticky_module=shared: command not found
--add-module=./modules/ngx_http_upstream_session_sticky_module \

-bash: --with-http_user_agent_module=shared: command not found
--add-module=./modules/ngx_http_user_agent_module \

===ok===========
./configure --prefix=/usr/local/nginx \
--pid-path=/var/run/nginx.pid \
--error-log-path=/data/nginx/logs/error.log \
--http-log-path=/data/nginx/logs/access.log \
--with-pcre=/usr/local/src/nginx/pcre-8.36 \
--with-openssl=/usr/local/src/nginx/openssl-1.0.2 \
--with-openssl-opt=-fPIC \
--with-http_lua_module \
--with-luajit-inc=/usr/local/include/luajit-2.0 \
--with-luajit-lib=/usr/local/lib \
--with-http_stub_status_module \
--with-http_gzip_static_module \
--with-http_realip_module \
--add-module=./modules/ngx_http_upstream_check_module \
--with-http_ssl_module \
--with-http_sub_module \
--with-md5=/usr/lib \
--add-module=/usr/local/src/nginx/nginx-http-concat \
--add-module=./modules/ngx_http_sysguard_module \
--add-module=./modules/ngx_http_footer_filter_module \
--add-module=./modules/ngx_http_upstream_session_sticky_module \
--add-module=./modules/ngx_http_user_agent_module \
--with-google_perftools_module \
--without-http_uwsgi_module \
--without-http_scgi_module \
--without-select_module \
--without-poll_module \
--add-module=/usr/local/src/nginx/ngx_cache_purge-2.3 \
--add-module=/usr/local/src/nginx/nginx_tcp_proxy_module-master \
--add-module=/usr/local/src/nginx/ngx_http_geoip2_module-master \
--with-ld-opt=-ltcmalloc_minimal \
--http-client-body-temp-path=/data/nginx/tmps/nginx_client \
--http-proxy-temp-path=/data/nginx/tmps/nginx_proxy \
--http-fastcgi-temp-path=/data/nginx/tmps/nginx_fastcgi
